% This file was converted to LaTeX by Writer2LaTeX ver. 1.6.1
% see http://writer2latex.sourceforge.net for more info
\documentclass[a4paper,dvipdfmx]{jarticle}
\usepackage[utf8]{inputenc}
\usepackage{amsmath}
\usepackage{amssymb,amsfonts,textcomp}
\usepackage[T1]{fontenc}
\usepackage[english]{babel}
\usepackage{color}
\usepackage{array}
\usepackage{supertabular}
\usepackage{hhline}
\usepackage{hyperref}
\hypersetup{colorlinks=true, linkcolor=blue, citecolor=blue, filecolor=blue, urlcolor=blue}
\usepackage[dvipdfmx]{graphicx}
\graphicspath{%
{./text02-img/}%
}
% Text styles
\newcommand\textstyleqwerty[1]{#1}
\makeatletter
\newcommand\arraybslash{\let\\\@arraycr}
\makeatother
% Page layout (geometry)
\setlength\voffset{-1in}
\setlength\hoffset{-1in}
\setlength\topmargin{2cm}
\setlength\oddsidemargin{2cm}
\setlength\textheight{25.276667cm}
\setlength\textwidth{17.001cm}
\setlength\footskip{12.0pt}
\setlength\headheight{0cm}
\setlength\headsep{0cm}
% Footnote rule
\setlength{\skip\footins}{0.119cm}
\renewcommand\footnoterule{\vspace*{-0.018cm}\setlength\leftskip{0pt}\setlength\rightskip{0pt plus 1fil}\noindent\textcolor{black}{\rule{0.25\columnwidth}{0.018cm}}\vspace*{0.101cm}}
% Pages styles
\makeatletter
\newcommand\ps@MP{
  \renewcommand\@oddhead{}
  \renewcommand\@evenhead{}
  \renewcommand\@oddfoot{\textstyleqwerty{\thepage{}}}
  \renewcommand\@evenfoot{\@oddfoot}
  \renewcommand\thepage{\arabic{page}}
}
\newcommand\ps@Standard{
  \renewcommand\@oddhead{}
  \renewcommand\@evenhead{}
  \renewcommand\@oddfoot{}
  \renewcommand\@evenfoot{}
  \renewcommand\thepage{\arabic{page}}
}
\makeatother
\pagestyle{Standard}
\setlength\tabcolsep{1mm}
\renewcommand\arraystretch{1.3}
% List styles
\title{ }
\author{武田 寧}
\date{2021-08-07}
\begin{document}
\clearpage\clearpage\setcounter{page}{1}\pagestyle{MP}

\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

{\bfseries
子どもＩＴ未来塾}

{\bfseries
第2回\ \ 「ゲームを改造してみよう!」}


\bigskip

\clearpage{\bfseries
2-1 ファイルって何だろう}


\bigskip

最後に、今回の新しい教材の設定を行って準備は完了です。

皆さんが使っているRaspberry
Piは、パソコンと同じように内部の記憶装置に「ファイル」「フォルダ」という単位で情報が記録されています。


\bigskip

\ \ ファイル =
データをひとまとまりにして、名前を付けたもの

\ \ フォルダ =
ファイルをひとまとまりにして、名前を付けたもの


\bigskip

以前に使ったフォルダを覚えていますか?

上にあるバーのフォルダアイコンからウインドウを開いてみましょう。



\begin{center}
  % Unhandled or unsupported graphics:
\includegraphics[width=5.898cm,height=1.242cm]{text02-img/text02-img001.png}

\end{center}

\bigskip

{\bfseries
　フォルダウインドウを開くアイコン}


\bigskip


\bigskip

これから皆さんが使うファイルは、「/home/pi/ome/02」という場所に置かれています。

どこにあるか探すことができますか?



\begin{center}
  % Unhandled or unsupported graphics:
\includegraphics[width=11.232cm,height=8.424cm]{text02-img/text02-img002.png}

\end{center}

\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

{\bfseries
フォルダを開いたところ}


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

ファイルのコピー、移動、削除などの方法を、よく覚えておきましょう。

ファイルには、画像や文章、音声や動画など、さまざまなデータが入っています。

ファイルの中身が何なのか、自分が作ったファイルかどうかを知っておいてください。


\bigskip

これから、Raspberry
Piを使って色々なゲームを作ったり、改造したりといった作業をします。

以下の2つに注意しながら、作業を進めていきましょう。


\bigskip

\ \ ・自分が作ったファイル以外は削除や移動しないようにしましょう

\ \ ・ファイルやフォルダはわかりやすい場所に作りましょう


\bigskip

\clearpage
\textstyleqwerty{\textbf{2-2 ターミナルの使い方}}


\bigskip

ターミナル(コマンドライン)は、キーボードの入力だけでコンピューターを操作するためのものです。

ターミナル起動アイコンを選択すると、ターミナル画面のウインドウが開きます。



\begin{center}
  % Unhandled or unsupported graphics:
\includegraphics[width=7.303cm,height=1.15cm]{text02-img/text02-img003.png}

\end{center}

\bigskip

\textstyleqwerty{\textbf{ターミナル起動アイコン}}


\bigskip


\bigskip



\begin{center}
  % Unhandled or unsupported graphics:
\includegraphics[width=9.472cm,height=6.061cm]{text02-img/text02-img004.png}

\end{center}

\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

\textstyleqwerty{\textbf{ターミナル画面}}


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

ターミナルの使い方を覚えておくと、キーボードだけで手早くコンピューターを扱うことができるようになります。すべての人が必ず使うものではありませんが、とても便利に使うことができるので、少しずつ使って慣れるようにしていきましょう。


\bigskip

たとえば、


\bigskip

\ \ \ \ ls [Enter]


\bigskip

を入力するとファイルの一覧が出てきます。


\bigskip



\begin{center}
  % Unhandled or unsupported graphics:
\includegraphics[width=9.71cm,height=6.138cm]{text02-img/text02-img005.png}

\end{center}

\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

\textstyleqwerty{\textbf{lsコマンドを入力した画面}}


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

今回、プログラミングやターミナルなど、キーボードをたくさん使う機会があります。

最初は難しいかもしれませんが、思ったように文字を打つことができるよう、練習をして覚えていきましょう。

キーボードは乱暴に扱わない方がいいですが、間違ったボタンを押したからと言ってコンピューターが壊れることはありません。ですから、間違えることを心配せずに、どんどん自分からキーボードを操作して、使い方に慣れるよう心掛けてください。


\bigskip


\bigskip

{\bfseries
2-3 プログラミングって何だろう}


\bigskip

皆さんには、プログラミングを初めてもらいます。

プログラミングというのは、プログラムを作ることです。

\textstyleqwerty{さて、そもそもプログラムって何でしょう?}

\begin{center}
  % Unhandled or unsupported graphics:
\includegraphics[width=8.031cm,height=7.304cm]{text02-img/text02-img006.jpg}

\end{center}
パソコンの上で動いている、ワープロソフトやペイントソフト、ゲームなどもみんなまとめて「プログラム」と呼んでいます。


\bigskip

スマホのアプリもプログラムと同じです。ゲーム機のゲームソフトもプログラムです。

「プログラム」というのは自分が考えた通りに動いてくれる予定表のようなものです。

たとえば、学校の授業や運動会にもプログラム(予定表)があり、どんな順番で何をするか決められています。

ビデオレコーダーがテレビ番組を決められた時間に勝手に録画してくれるのもプログラムです。パソコンで動くプログラムは、もっともっと色々な仕事をすばやくこなすことができるものなのです。


\bigskip

・電化製品


\bigskip

家庭で使われている電化製品にも、コンピューターとプログラムが使われています。今では、電気を使うほとんどの機器が、プログラムによって動いています。


\bigskip

・ゲーム機


\bigskip

現在は様々なハードでゲームが遊べるようになっていますが、ビデオゲームは色々な進化をたどってきました。今では、とても高度なコンピューターが使われています。


\bigskip

・ロボットや人工知能


\bigskip

これから大きく発展する分野が、ロボットや人工知能です。これらは、コンピューターと高度なプログラムを組み合わせて作られています。

まだ、簡単なことしかできないロボットが、将来は人間と同じ能力を持って仕事をしているかもしれません。

今回みなさんに使ってもらうのは「ホットスーププロセッサ」、略して「HSP(エッチ・エス・ピー)」と呼ばれているツールです。ゲームを作るのに向いているだけでなく、小中学生にも使えるくらい簡単で、参考になる本もいっぱい出ています。


\bigskip



\begin{center}
  % Unhandled or unsupported graphics:
\includegraphics[width=4.576cm,height=5.928cm]{text02-img/text02-img007.jpg}

\end{center}


\begin{center}
  % Unhandled or unsupported graphics:
\includegraphics[width=3.889cm,height=5.629cm]{text02-img/text02-img008.jpg}

\end{center}

\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

\textstyleqwerty{\textbf{HSPについての書籍類}}


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

それでは、さっそくプログラム作りを始めてみましょう。

プログラムを作ったり、打ち込んだりすることをプログラミングといいます。

これから、やることの内容はつぎの通りです。


\bigskip

\begin{itemize}
\item {\bfseries
プログラムの呼び出し方と動かし方を覚える}
\item {\bfseries
プログラムを自分の手で実際に打ち込んでみること}
\item {\bfseries
シューティングゲームを改造して自分だけのオリジナルゲームにすること}
\end{itemize}

\bigskip

プログラムを覚えたら、何ができるのか?

そして、プログラムを覚えておくと将来どんないいことがあるのか?

皆さんもプログラムの世界について学んでいきましょう。


\bigskip


\bigskip

\textstyleqwerty{\textbf{2-4 HSPに触れてみよう}}


\bigskip

左上のRaspberry
Piメニューの「プログラミング」項目に、「HSP
Script
Editor」(HSPスクリプトエディタ)という項目があるはずです。

メニューを開いて確認してみましょう。



\begin{center}
  % Unhandled or unsupported graphics:
\includegraphics[width=7.31cm,height=6.562cm]{text02-img/text02-img009.png}

\end{center}

\bigskip


\bigskip


\bigskip

\textstyleqwerty{\textbf{プログラミング項目のメニュー}}


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

「HSP Script
Editor」のアイコンをクリックして起動させてみましょう。

Raspberry
Piメニューからでも、ターミナルから「hsed」と打ち込んでも起動させることができるので覚えておきましょう。


\bigskip



\begin{center}
  % Unhandled or unsupported graphics:
\includegraphics[width=6.588cm,height=7.624cm]{text02-img/text02-img010.png}

\end{center}

\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

\textstyleqwerty{\textbf{HSPスクリプトエディタを起動したところ}}


\bigskip

「HSPスクリプトエディタ」は、LeafPadと同じように好きな文字を打ち込むことができます。文字を直したり、カーソルを好きな場所に移動したりする方法がわからない人は、となりの友だちか、近くの先生に聞いてみてください。


\bigskip

実際にできあがっているプログラムを見てみましょう。

ファイル→「開く」メニューからome/02フォルダの中にある「shoot.hsp」を読み込んでください。

作業は、すべて「pi」から選択できる「ome/02」フォルダで行ないます。

見つからない場合は、まわりの友達か、近くの先生に聞いてみてください。


\bigskip



\begin{center}
  % Unhandled or unsupported graphics:
\includegraphics[width=9.181cm,height=6.874cm]{text02-img/text02-img011.png}

\end{center}

\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

{\bfseries
　HSPフォルダから読み込む画面}


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

だらだらと長い文字が読み込まれましたか?

今は意味がわからなくても大丈夫です。

まずは、[F5]キーを押して動かしてみましょう。


\bigskip

\ \ (シューティングゲームの遊び方)


\bigskip

\ \ 1.
タイトル画面で[Enter]キーを押すとゲームがスタートします

\ \ 2.
カーソルキーで上下左右に移動、ミサイルは自動発射です

\ \ 3.
敵や弾に当たるとゲームオーバーになってしまいます

\ \ 4.
ゲームを遊び終わったら「ESC」を押してウィンドウを閉じましょう


\bigskip



\begin{center}
  % Unhandled or unsupported graphics:
\includegraphics[width=9.962cm,height=7.902cm]{text02-img/text02-img012.png}

\end{center}

\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

\textstyleqwerty{\textbf{　シューティングゲームの画面}}


\bigskip


\bigskip


\bigskip

このようにスクリプトがあればゲームを動かすことができます。

ゲームが終わったら、「ESC」キーを押してエディタの画面に戻ってください。

さて、このスクリプトエディタに表示されている長い文章のことを「スクリプト」と呼びます。「プログラム」は、できあがったもの全体を指してまぎらわしいので、プログラミングで打ち込むための言葉は「スクリプト」と呼ぶようにしますので覚えておいてください。


\bigskip


\bigskip


\bigskip

HSPスクリプトエディタは、打ち込まれたスクリプトを[F5]キーで実行する機能、そのスクリプトを.hspファイルとして保存したり読み込んだりする機能があります。

実行された時には、画面全体に表示され[ESC]キーを押すことで、元の画面に戻ります。



\begin{center}
  % Unhandled or unsupported graphics:
\includegraphics[width=15.533cm,height=4.86cm]{text02-img/text02-img013.png}

\end{center}

\bigskip

HSPスクリプトエディタの基本的な使い方をよく覚えておきましょう。

スクリプトを書けるようになると、画面の絵や音、そしてハードウェアなど様々なデバイスを組み合わせて、あなたの考えたプログラムを作ることができるようになります。


\bigskip


\bigskip

{\bfseries
2-5 例題に挑戦しよう}


\bigskip

ここまで終わってしまった人は、以下の例題にも挑戦してみよう。


\bigskip

・ターミナルからHSPスクリプトエディタを起動する

・ドロップパズル(drop)を読み込んで動かす

・ブロック崩し(block3)を読み込んで動かす

・ゲームでラズパイに親しむ


\bigskip

例題の考え方がわからない時は、近くのTAか先生に聞いてください。

わからない所は、そのままにせず、必ず答えを見つけてから先に進みましょう。


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

\textstyleqwerty{\textbf{例題1　HSPスクリプトエディタをターミナルから起動する}}


\bigskip

{\bfseries
考え方}


\bigskip

最後に、今回の新しい教材の設定を行って準備は完了です。

HSPスクリプトエディタを起動するためのコマンドは、「hsed」です。

ターミナルからHSPスクリプトエディタを起動してみましょう。


\bigskip

{\bfseries
例題1 答え}


\bigskip

プログラムを打ち込むためには、「HSPスクリプトエディタ」というツールを使うことを覚えました。

Raspberry Piメニューにある「HSP Script
Editor」のアイコンをクリックして起動させることができるほか、ターミナルからhsedコマンドで直接起動させることもできます。


\bigskip

ターミナル起動アイコンを選択すると、ターミナル画面のウインドウが開きましょう。



\begin{center}
  % Unhandled or unsupported graphics:
\includegraphics[width=7.303cm,height=1.15cm]{text02-img/text02-img003.png}

\end{center}

\bigskip

\textstyleqwerty{\textbf{ターミナル起動アイコン}}


\bigskip


\bigskip



\begin{center}
  % Unhandled or unsupported graphics:
\includegraphics[width=8.52cm,height=5.45cm]{text02-img/text02-img004.png}

\end{center}

\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

\textstyleqwerty{\textbf{ターミナル画面}}


\bigskip


\bigskip


\bigskip

ターミナルの画面で



\begin{center}
  % Unhandled or unsupported graphics:
\includegraphics[width=6.786cm,height=7.853cm]{text02-img/text02-img010.png}

\end{center}
{\bfseries
hsed [Enter]}


\bigskip

と入力しましょう。

HSPスクリプトエディタが起動することを確認してください。


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

\textstyleqwerty{\textbf{HSPスクリプトエディタを起動したところ}}


\bigskip


\bigskip


\bigskip


\bigskip

\clearpage
\textstyleqwerty{\textbf{例題2　ドロップパズル(drop)を読み込んで動かす}}


\bigskip

{\bfseries
考え方}


\bigskip


\bigskip

HSPスクリプトエディタからスクリプト(プログラム)を読み込む方法と、実行する方法を思い出してみてください。

それでは、HSPスクリプトエディタからドロップパズル(drop.hsp)を読み込んで遊んでみましょう。

ドロップパズル(drop.hsp)は、/home/pi/02のフォルダにあります。


\bigskip


\bigskip

{\bfseries
例題2 答え}


\bigskip

HSPスクリプトエディタの基本的な使い方をよく覚えておきましょう。



\begin{center}
  % Unhandled or unsupported graphics:
\includegraphics[width=15.533cm,height=4.86cm]{text02-img/text02-img013.png}

\end{center}

\bigskip

このように、HSPスクリプトエディタは、打ち込まれたスクリプトを[F5]キーで実行する機能、そのスクリプトを.hspファイルとして保存したり読み込んだりする機能があります。

実行された時には、画面全体に表示され[ESC]キーを押すことで、元の画面に戻ります。


\bigskip

ファイル→「開く」メニューから/home/pi/02のフォルダに移動してから、「drop.hsp」を読み込んでみましょう。



\begin{center}
  % Unhandled or unsupported graphics:
\includegraphics[width=9.049cm,height=6.346cm]{text02-img/text02-img014.png}

\end{center}

\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

\textstyleqwerty{\textbf{ドロップパズルのスクリプト}}


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

読み込まれたら、[F5]キーで実行します。


\bigskip



\begin{center}
  % Unhandled or unsupported graphics:
\includegraphics[width=10.605cm,height=8.306cm]{text02-img/text02-img015.png}

\end{center}

\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

\textstyleqwerty{\textbf{　ドロップパズルゲームの画面}}


\bigskip


\bigskip


\bigskip


\bigskip

ドロップパズルは、上から落ちてくる5角形のパネルをうまく消していくゲームです。

パネルの上にマウスカーソルを合わせて、ボタンを押しながら同じ色のパネルをなぞってください。

すると、同じ色のパネルが消えて、新しいパネルが上から降ってきます。

一度に同じ色のパネルをたくさん消すと、高いスコアがもらえます。

時間内にできるだけ高いスコアを出せるように頑張ってください。


\bigskip

ゲームを終了する時は、[ESC]キーを押してください。


\bigskip

\clearpage
\textstyleqwerty{\textbf{例題3　ブロック崩し(block3)を読み込んで動かす}}


\bigskip

{\bfseries
考え方}


\bigskip

/home/pi/02のフォルダにある他のスクリプトを実行してみましょう。

「block3.hsp」は、ブロック崩しゲームのスクリプトです。

ドロップパズルと同じように読み込んで動かしてみましょう。


\bigskip


\bigskip


\bigskip

{\bfseries
例題3 答え}


\bigskip

ファイル→「開く」メニューから/home/pi/02のフォルダに移動してから、「block3.hsp」を読み込んでみましょう。

読み込まれたら、[F5]キーで実行します。


\bigskip

マウスをうまく動かしてラケットを操作します。ボールを打ち返してブロックを崩してください。

ボールが下まで落ちてしまうとアウトです。


\bigskip



\begin{center}
  % Unhandled or unsupported graphics:
\includegraphics[width=8.467cm,height=7.17cm]{text02-img/text02-img016.png}

\end{center}

\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

\textstyleqwerty{\textbf{ブロック崩しの画面}}


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

ゲームを終了する時は、[ESC]キーを押してください。


\bigskip

\clearpage
\textstyleqwerty{\textbf{例題4　ゲームでラズパイに親しむ}}


\bigskip

{\bfseries
考え方}


\bigskip

RaspberryPiに最初から用意されているゲームを起動してみましょう。

Python
Gamesから様々なゲームを選択して遊ぶことができます。

また、タイピング練習ソフトとしてtuxtypeというソフトがインストールされています。

このソフトはターミナルから「tuxtype」で起動することができます。


\bigskip

{\bfseries
例題4 答え}


\bigskip

左上のラズベリーパイアイコンのメニューから、「ゲーム」→「Python
Games」を選択します。



\begin{center}
  % Unhandled or unsupported graphics:
\includegraphics[width=7.382cm,height=7.414cm]{text02-img/text02-img017.png}

\end{center}

\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip



\begin{center}
  % Unhandled or unsupported graphics:
\includegraphics[width=6.207cm,height=9.562cm]{text02-img/text02-img018.png}

\end{center}

\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

Python
Gamesでは、複数のゲームをメニューから選ぶことができます。

最初は、fourinarowを遊んでみましょう。


\bigskip


\bigskip


\bigskip

\textstyleqwerty{f\textbf{ourinarow}\texttt{のプレイ方法}}

\textstyleqwerty{\texttt{ルール}}

\textstyleqwerty{\texttt{先に}4\texttt{個石を並べたら勝ちです。}}

\textstyleqwerty{\texttt{そうさ方法}}

\textstyleqwerty{\texttt{マウスを使って石を運びます。そのためにはドラッグアンドドロップというワザを使います。}}

\textstyleqwerty{\texttt{まずは赤（自分の）石を左クリックしましょう。左クリックしたままマウスを動かしてみましょう。}}

\textstyleqwerty{\texttt{石も一緒に動いていますね。これをドラッグといいます。}}

\textstyleqwerty{\texttt{ドロップというのはドラッグしていた左クリックをはなすことです。このドラッグとドロップを合わ}}

\textstyleqwerty{\texttt{せてドラッグアンドドロップといいます。}}

\textstyleqwerty{\texttt{自分の石をドラッグして、フィールドの上からドロップしましょう。}}

\textstyleqwerty{\texttt{終了するときは右上のバツじるしを押しましょう。}}


\bigskip



\begin{center}
  % Unhandled or unsupported graphics:
\includegraphics[width=7.805cm,height=6.218cm]{text02-img/text02-img019.jpg}

\end{center}

\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

\textstyleqwerty{F\textbf{ourinarowの画面}}


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

\textstyleqwerty{\texttt{キーボード練習用のゲーム }Tux
Typing}


\bigskip

\textstyleqwerty{\texttt{家でキーボードのタイピングを練習できるよう、練習用のゲームを遊んでみましょう。}}

\textstyleqwerty{\texttt{画面の上にあるターミナルのアイコンをクリックしてきどうしましょう。}}

{\ttfamily
開いたら}


\bigskip

\textstyleqwerty{tuxtype [Enter]}



\begin{center}
  % Unhandled or unsupported graphics:
\includegraphics[width=9.79cm,height=7.343cm]{text02-img/text02-img020.jpg}

\end{center}
でゲーム開始となります。

\textstyleqwerty{\texttt{起動したら一番上の}Fish
Cascade\texttt{を選びましょう。}}

\textstyleqwerty{\texttt{そしたらレベルをえらぶ画面になるのでまずは}Easy\texttt{（一番簡単})
\texttt{をえらびましょう。これは上から落ちてくる文字をキーボードで打つゲームです。}}


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

{\bfseries
2-6 休憩}


\bigskip

\begin{flushleft}
\tablefirsthead{}
\tablehead{}
\tabletail{}
\tablelasttail{}
\begin{supertabular}{|m{10.733cm}|}
\hline
・自由時間です

・次の時間が始まる前に教室の席に戻るようにしましょう

・質問や疑問などがあれば先生のところまで聞きに行きましょう\\\hline
\end{supertabular}
\end{flushleft}
\clearpage
\textstyleqwerty{\textbf{2-7 センサーボードの使い方}}


\bigskip

プログラムによって、画面の上でゲームが遊べることがわかりました。

これはちょうどスマートフォンや家庭用ゲーム機でゲームを遊ぶのと似ています。

今回、皆さんが使うRaspberryPiは、ゲームだけでなく明るさや温度などさまざまな情報を調べることのできるセンサーボードを接続することができます。



\begin{center}
  % Unhandled or unsupported graphics:
\includegraphics[width=9.79cm,height=7.955cm]{text02-img/text02-img021.jpg}

\end{center}

\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

\textstyleqwerty{\textbf{　RaspberryPiとセンサーボード}}


\bigskip


\bigskip


\bigskip


\bigskip

普通の電気製品は、ケースや保護がありますが、センサーボードやRaspberryPiは、回路の基板そのままの状態です。触っても感電することはありませんが、静電気によって壊れたりケガをしないように回路部分を触らないように注意しましょう。


\bigskip

接続されたセンサーボードを使ったプログラムも作ることができます。

プログラミングは、画面を動かすだけでなく、RaspberryPiが持つすべての機能を自由に組み合わせて使うことができるのです。


\bigskip

それでは、さっそくプログラミングを始めてみましょう。

これから、やることの内容はつぎの通りです。


\bigskip

{\bfseries
・LEDが点滅するスクリプト(gpio)を読み込んで動かす}

{\bfseries
・メッセージが出るスクリプト(mes)を改造してみる}

{\bfseries
・エディタの編集について覚える}

{\bfseries
・別なLEDを光らせてみよう}

{\bfseries
・別なメッセージを出してみよう}

{\bfseries
・改造したスクリプトを保存してみよう}

{\bfseries
・命令とパラメーターを覚えよう}


\bigskip


\bigskip

{\bfseries
2-8 プログラムとスクリプト}


\bigskip

プログラムを打ち込むためには、「HSPスクリプトエディタ」というツールを使うことを覚えました。

このエディタに打ち込む言葉のことを「スクリプト」と呼んでいることを覚えていますか?

スクリプトは、プログラムがどのように動くかを書いた設計図のようなものです。これは、ソースコードとも呼ばれています。

皆さんが使っているアプリやゲーム、パソコンのプログラムもソースコードをもとにして作られています。

スクリプトエディタは、スクリプトを書いて実行するためのツールです。


\bigskip


\bigskip

スクリプトは、プログラムを作るための元になるものですが、その書き方には色々な種類があります。

これは英語とも日本語とも違う特別なルールを持った言葉です。この言葉は「プログラム言語」と呼ばれていて、やりたいことに合わせて色々な種類があります。



\begin{center}
  % Unhandled or unsupported graphics:
\includegraphics[width=11.509cm,height=3.803cm]{text02-img/text02-img022.png}

\end{center}

\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

今回、皆さんが使うHSPは小文字のアルファベット(英語)でスクリプトを打ち込みます。でも英語を知っている必要はありません。漢字変換がいらないので、慣れれば英語の方が打ち込むのが早くなりますし、世界中の人が同じ方法で打ち込んでいるので、今覚えておけば将来にも役立つはずです。


\bigskip


\bigskip

{\bfseries
2-9 LEDが点滅するスクリプト}


\bigskip

かんたんなスクリプトを読み込んでみます。

前の時間と同様に、ファイル→「開く」メニューから「gpio.hsp」を読み込んでから、「F5」キーを押して実行してみましょう。

センサーボードのLEDが点滅していたら成功です。うまくいかない人は、となりの友だちか、近くの先生に見てもらいましょう。



\begin{center}
  % Unhandled or unsupported graphics:
\includegraphics[width=8.387cm,height=6.17cm]{text02-img/text02-img023.png}

\end{center}

\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

\textstyleqwerty{\textbf{led.hspのスクリプト}}


\bigskip


\bigskip


\bigskip


\bigskip

正しく動いたのを確認したら「ESC」を押して画面を閉じましょう。


\bigskip

\ \ (HSPのルール)


\bigskip

\ \ スクリプトエディタに打ち込んだ通りに動く

\ \ 動かす時は[F5]キーを押す

正しく動いたのを確認したら「ESC」を押して画面を閉じましょう


\bigskip

それでは、「ESC」を押してスクリプトエディタの画面に戻ってください。

スクリプトを見てみましょう。

英単語の後に数字書かれているものが何行も書かれています。

最初はまったく意味がわからないですね。


\bigskip


\bigskip


\bigskip

最初の行にある


\bigskip

\ \ \#include “hsp3dish.as”


\bigskip

は、いずれ説明しますが、最初に書いておくおまじないのようなものと考えておいてください。

RaspberryPiを使う時には、最初にこの１行を入れておくことを覚えておきましょう。


\bigskip

HSPのスクリプトは、英文字による「命令」と数字などによる「パラメーター」によって作られています。



\begin{center}
  % Unhandled or unsupported graphics:
\includegraphics[width=8.017cm,height=4.512cm]{text02-img/text02-img024.png}

\end{center}

\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

たとえば、「gpio
17,1」という行を見てみましょう。


\bigskip

\ \ (HSPのルール)


\bigskip

\ \ 「gpio」はパソコンに指示を与える「命令」にあたります。

\ \ 「命令」の後に、細かい指示の内容を書きます。(パラメーターと呼ぶ)

\ \ 「命令」と「パラメーター」の間にはスペース(空白)を入れる


\bigskip

つまり、「gpio」が命令、「17」と「1」がパラメーターです。

パラメーターは、「,」によって複数書くことができます。

この「命令」は、コンピューターに何をさせるか、どんな機能を使うかを示しています。

ここで使っている「gpio」は、Raspberry
PiのGPIOという端子を制御します。


\bigskip

GPIOは、RaspberryPiの基板から制御することのできるスイッチのようなものです。

皆さんが使っているセンサーボードの上にあるスイッチやLEDは、GPIOとつながっていて、ON/OFFしたり、スイッチの状態を調べることができます。


\bigskip



\begin{center}
  % Unhandled or unsupported graphics:
\includegraphics[width=12.409cm,height=7.62cm]{text02-img/text02-img025.png}

\end{center}

\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

gpioという命令によってLEDのON/OFFが制御できるのかな…と何となく想像できますか?

GPIO
のONとOFFのスイッチを切り替えると、センサーボード上のLEDもON/OFFするということになります。


\bigskip

\ \ (HSPのルール)


\bigskip

\ \ gpio命令は、Raspberry
PiのGPIOを制御するための命令

\ \ gpioの後にスペースに続けて「IO番号」「,(カンマ)」「ON(1)/OFF(0)の値」を書く


\bigskip


\bigskip

つまり、「gpio
17,1」という命令は、「GPIO17をONにする」つまりLED1を点灯させることができます。基板には、LED1〜4までのLEDが搭載されているので、GPIO17,18,22,27をそれぞれ自由にON/OFFの状態にできるわけです。(赤外線やスイッチについては、また後で説明します。)


\bigskip

スクリプトエディタで、スクリプトを直接修正してみます。

スクリプトの中で「gpio
17,1」と書いてある行を探してから、ためしに下のように他の番号を入れてみましょう。


\bigskip

\ \ gpio 18,1


\bigskip


\bigskip

キーボードの入力や、修正のしかたがわからない人は、TAや周りの先生に聞いてみましょう。


\bigskip

修正したら[F5]を押してちゃんと動くか見てみましょう。

おや…LEDが点きっぱなしになりましたね。

実は、LEDが点滅するためには、ONとOFFの2つを書く必要があるのです。

つまり、「gpio
17,0」と書かれている部分も修正しなければなりません。


\bigskip

\ \ gpio 18,0


\bigskip

に修正して、もう一度[F5]を押して点滅するか確認してみましょう。


\bigskip

\ \ (HSPのルール)


\bigskip

\ \ 1行目から順番に命令を実行してゆく。

\ \ 時間待ちをしたり、繰り返したりすることができる。


\bigskip

wait命令は、一定時間停止するための命令です。

パラメーターの数字を修正すれば、点滅の速度が変わります。



\begin{center}
  % Unhandled or unsupported graphics:
\includegraphics[width=10.372cm,height=5.837cm]{text02-img/text02-img026.png}

\end{center}

\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

このようにコンピューターにわかる言葉、スクリプトを正しく書くことで、その通りに動きます。

どんなに間違ったとしてもコンピューターが壊れることはありません。

うまく動かない時は、どうしてなのか考えてみて、わからない時は質問してみましょう。


\bigskip

{\bfseries
2-10 文字を表示する命令}


\bigskip

LEDが点滅している間、画面には「OK!」のメッセージが表示されています。


\bigskip



\begin{center}
  % Unhandled or unsupported graphics:
\includegraphics[width=5.741cm,height=4.572cm]{text02-img/text02-img027.png}

\end{center}

\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

{\bfseries
　OK!のメッセージ}


\bigskip


\bigskip


\bigskip

実行されているスクリプトを見てみましょう。

「mes
“OK!”」と書かれている行が関係ありそうですね。

ためしに{\textquotedbl}OK!{\textquotedbl}のかわりに自分の名前を入れてみましょう。


\bigskip

\ \ mes {\textquotedbl}takeda{\textquotedbl}


\bigskip

打ち込んだら[F5]を押してちゃんと動くか見てみましょう。


\bigskip

\ \ (HSPのルール)


\bigskip

\ \ mes命令は文字を画面に出す命令

\ \ mesの後にスペースに続けて表示したい文字を指定します

\ \ 必ず「{\textquotedbl}」で文字を囲むこと


\bigskip

mesという命令で文字を出すことができます。今度はパラメーターに「”」の記号で囲んだ文字を使っています。パラメーターで指定する時は、「”」で囲んだ文字か、数字になることを覚えておきましょう。


\bigskip

このようにコンピューターにわかる言葉、スクリプトを正しく書くことで、その通りに動いてくれます。

どんなに間違ったとしてもコンピューターが壊れることはありません。

HSPのルールを守らないとエラーが表示されてしまいます。

ターミナルの画面に、何行目でエラーが出たのかが表示されるので、その行を見直すといいでしょう。


\bigskip


\bigskip

\textstyleqwerty{\textbf{2-11 スクリプトの保存}}


\bigskip

最後に自分で書き換えたスクリプトを保存する方法を忘れずに覚えておきましょう。

スクリプトをファイルとして保存しておけば、いつでも開いて続きから始めることができます。ファイル→「名前を付けて保存…」から、「mygpio.hsp」など自分の好きな名前で保存しておいてください。


\bigskip



\begin{center}
  % Unhandled or unsupported graphics:
\includegraphics[width=6.976cm,height=4.944cm]{text02-img/text02-img028.png}

\end{center}

\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

{\bfseries
　スクリプト保存のダイアログ}


\bigskip


\bigskip


\bigskip

{\bfseries
2-12 例題に挑戦しよう}


\bigskip

ここまで終わってしまった人は、以下の例題にも挑戦してみよう。


\bigskip

・命令のヘルプと検索のしかたを覚える

・文字に色をつけてみる(color命令)

・文字の位置やサイズを変えてみる(pos,font命令)

・四角形を描く命令を使ってみる(boxf命令)


\bigskip

例題の考え方がわからない時は、近くのTAか先生に聞いてください。

わからない所は、そのままにせず、必ず答えを見つけてから先に進みましょう。


\bigskip


\bigskip

\textstyleqwerty{\textbf{例題5　命令のヘルプと検索のしかたを覚える}}


\bigskip

{\bfseries
考え方}


\bigskip

HSPで使うことのできる命令を調べたり、説明を読むための方法を覚えておきましょう。

HSPで書ける命令は、色々な種類があります。HSPスクリプトエディタで調べたい命令にカーソルを合わせて[F1]キーを押すことでヘルプが表示されます。


\bigskip

左上の入力枠に命令を入れて検索をすることができます。

試しに、「mes」「wait」などの命令を調べてみましょう。


\bigskip


\bigskip

{\bfseries
例題5 答え}


\bigskip

mes命令のヘルプが正しく表示されたかどうか確認してみましょう。

このページでは、HSPの命令やサンプル、関連命令などを検索することができます。


\bigskip


\bigskip



\begin{center}
  % Unhandled or unsupported graphics:
\includegraphics[width=9.895cm,height=7.421cm]{text02-img/text02-img029.jpg}

\end{center}

\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

\textstyleqwerty{\textbf{ヘルプの画面}}


\bigskip


\bigskip


\bigskip


\bigskip

\clearpage
\textstyleqwerty{\textbf{例題6　文字に色を付けてみる}}


\bigskip

{\bfseries
考え方}


\bigskip

mes命令で表示する文字に色を付けるにはcolor命令を使います。



\begin{center}
  % Unhandled or unsupported graphics:
\includegraphics[width=12.277cm,height=5.08cm]{text02-img/text02-img030.png}

\end{center}

\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

明るさとは、その成分がどのくらい明るいかということを示している数値です。

明るさは、0がもっとも
暗くて、255が最も明るい状態になります。

これらを組み合わせて、1670万以上の色を
出すことができます。この時に指定する色のことをRGBと呼んでいます。


\bigskip

{\bfseries
ＲＧＢとは}


\bigskip

\begin{flushleft}
\tablefirsthead{}
\tablehead{}
\tabletail{}
\tablelasttail{}
\begin{supertabular}{m{-0.144cm}m{16.111cm}}
\multicolumn{2}{m{16.167cm}}{   % Unhandled or unsupported graphics:
\includegraphics[width=0.041cm,height=0.106cm]{text02-img/text02-img031.png}
 \newline
　\textstyleqwerty{\textbf{\textcolor{black}{RGB}}}}\\
~
 &
   % Unhandled or unsupported graphics:
\includegraphics[width=0.041cm,height=0.106cm]{text02-img/text02-img031.png}
 
{\ttfamily\color{black}
光の3原色は赤、緑、青紫ですが、赤と緑を混ぜるとイエローに、緑と青紫を混ぜるとシアンに、青紫と赤を混ぜるとマゼンタになります。　}

\textstyleqwerty{\texttt{\textcolor{black}{光の3原色を等分に混合すると明るくなって、白色光になります。これを「加法混色」といいます。\newline
　RGBカラーはカラーテレビやモニタなどの「光り」で色を表現する方式です。\newline
   % Unhandled or unsupported graphics:
\includegraphics[width=0.041cm,height=0.212cm]{text02-img/text02-img031.png}
 }}}\\
~
 &
\textstyleqwerty{\texttt{\textcolor{black}{   % Unhandled or unsupported graphics:
\includegraphics[width=1.667cm,height=0.953cm]{text02-img/text02-img032.png}
 \ }}}

~

{\ttfamily\color{black}
RGBの意味は　R：レッド（赤）　G：グリーン（緑）　B：ブルー（青）の頭文字です。}

{\ttfamily\color{black}
赤・緑・青それぞれの光の強さを0から255までの数値で表わします。}

{\ttfamily\color{black}
黒は、赤・緑・青のどれも光らせない(強さ0)ことで表現します。}

{\ttfamily\color{black}
白は赤・緑・青すべてを光らせた時(強さ255)の色になります。}\\
\end{supertabular}
\end{flushleft}

\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

モニターで色がついているのも、すべての点で3つの色(RGB)が光っているからです。

コンピューターが、それぞれの点(ドット)を制御して光らせているのです。



\begin{center}
  % Unhandled or unsupported graphics:
\includegraphics[width=3.854cm,height=3.988cm]{text02-img/text02-img033.jpg}

\end{center}
\begin{center}
  % Unhandled or unsupported graphics:
\includegraphics[width=6.403cm,height=4.542cm]{text02-img/text02-img034.jpg}

\end{center}
\begin{center}
  % Unhandled or unsupported graphics:
\includegraphics[width=4.948cm,height=4.383cm]{text02-img/text02-img035.jpg}

\end{center}

\bigskip


\bigskip


\bigskip

mes命令の前に書かれているcolor命令の数字を変更することで、「OK!」の文字に使われている色を変えることができます。

自分で色を選んで、好きな色で文字を出してみましょう。


\bigskip


\bigskip

{\bfseries
例題6 答え}


\bigskip

必ず、mes命令が実行されるよりも前(上の行)にcolor命令を書く必要があります。

代表的な色は次のようになります。参考にして思った通りの色になっているか確認してみましょう。


\bigskip

\ \ \ \ color 0 ,0 ,0 ; ← 黒 

\ \ \ \ color 0 ,0 ,255 ; ← 青 

\ \ \ \ color 255 ,0 ,0 ; ← 赤 

\ \ \ \ color 255 ,0 ,255 ; ← 紫 

\ \ \ \ color 0 ,255 ,0 ; ← 緑 

\ \ \ \ color 0 ,255 ,255 ; ← 水色 

\ \ \ \ color 255 ,255 ,0 ; ← 黄色 

\ \ \ \ color 255 ,255 ,255 ; ← 白 


\bigskip


\bigskip


\bigskip


\bigskip

\textstyleqwerty{\textbf{例題7　文字のサイズを変えてみる}}


\bigskip

{\bfseries
考え方}


\bigskip

mes命令で表示する文字のサイズを変えるにはfont命令を使います。


\bigskip

\ \ (例)

\ \ font “”,100


\bigskip

font命令の後にスペースに続けて「””」、さらに「,」と大きさが書かれています。

たとえば、この「100」をもっと大きな数字にしてみて、文字が大きくなるのを確認しましょう。


\bigskip


\bigskip


\bigskip

{\bfseries
例題7 答え}


\bigskip

必ず、mes命令が実行されるよりも前(上の行)にfont命令を書く必要があります。

font命令で指定するパラメーターのは文字のサイズで大きい数になるほど文字も大きくなります。

逆に小さな数にすることで、小さな文字になります。


\bigskip

\ \ (HSPのルール)


\bigskip

\ \ font命令はフォントの形と大きさを決めるための命令

\ \ 「“”,70」、の70はそのサイズ


\bigskip

実際に試してみて、文字のサイズが変わったらTAや周りの友達にも見せてあげましょう。


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

\textstyleqwerty{\textbf{例題8　文字の表示位置を変えてみる}}


\bigskip

{\bfseries
考え方}


\bigskip

mes命令で表示する文字の表示位置を変えるにはpos命令を使います。


\bigskip

\ \ (例)

\ \ pos 160,200


\bigskip

パラメーターの数字2つを、増やしたり減らしたりしながら、文字の位置がどのように変わるか試してみましょう。


\bigskip


\bigskip


\bigskip

{\bfseries
例題8 答え}


\bigskip

必ず、mes命令が実行されるよりも前(上の行)にpos命令を書く必要があります。


\bigskip

\ \ (例)

\ \ pos 160,200


\bigskip

「160」の部分が左からの位置。

「200」の部分が上からの位置になります。

位置を指定するためには、たてよこの２つ数字が必要です。

「横の位置」「縦の位置」は、左上からの点(ドット)の数なので覚えておきましょう。


\bigskip

\ \ (HSPのルール)


\bigskip

\ \ 文字を出す位置を変えるにはpos命令を使います

\ \ posの後はスペースに続けて2つの数字を指定します

\ \ 2つの数字は「,」で区切ること

\ \ 2つの数字は「横の位置」「縦の位置」を指定する


\bigskip

実際に試してみて、文字の表示位置が変わったらTAや周りの友達にも見せてあげましょう。


\bigskip

\clearpage
\textstyleqwerty{\textbf{例題9　四角形を描いてみる}}


\bigskip

{\bfseries
考え方}


\bigskip

四角形を描く命令、boxf命令を使ってみましょう。

まず簡単に背景の色を変えてみましょう。


\bigskip

\textstyleqwerty{\ \ color 255,255,255}

\begin{center}
  % Unhandled or unsupported graphics:
\includegraphics[width=6.006cm,height=4.77cm]{text02-img/text02-img036.png}

\end{center}
\ \ boxf


\bigskip

これで白い背景になります。


\bigskip

\ \ color 255,0,255

\ \ boxf


\bigskip

のように修正すると色が変わります。

文字と同じようにcolor命令で四角形の色を変えることができます。


\bigskip

\ \ (例)

\ \ boxf 100,200,200,250


\bigskip

パラメーターの数字4つを、増やしたり減らしたりしながら、四角形がどのように変わるか試してみましょう。


\bigskip


\bigskip

{\bfseries
例題9 答え}


\bigskip

boxf命令は4つのパラメーターを指定します。


\bigskip

\ \ (HSPのルール)


\bigskip

\ \ 四角形を描くにはboxf命令を使います

\ \ boxfの後はスペースに続けて4つの数字を指定します

\ \ 4つの数字は「,」で区切ること

\ \ 4つの数字は「左上横の位置」「左上縦の位置」「右下横の位置」「右下縦の位置」を指定する

\ \ 4つのパラメーターを省略すると全画面を塗りつぶします


\bigskip

実際に試してみて、四角形が描けたらTAや周りの友達にも見せてあげましょう。


\bigskip


\bigskip


\bigskip

{\bfseries
2-13 休憩}


\bigskip

\begin{flushleft}
\tablefirsthead{}
\tablehead{}
\tabletail{}
\tablelasttail{}
\begin{supertabular}{|m{10.733cm}|}
\hline
・自由時間です

・次の時間が始まる前に教室の席に戻るようにしましょう

・質問や疑問などがあれば先生のところまで聞きに行きましょう\\\hline
\end{supertabular}
\end{flushleft}

\bigskip

\clearpage{\bfseries
2-14 ドロップパズルの改造}


\bigskip

\textstyleqwerty{ファイル→「開く」メニューから/home/pi/02のフォルダに移動してから、「drop.hsp」を読み込んでみましょう。}



\begin{center}
  % Unhandled or unsupported graphics:
\includegraphics[width=8.356cm,height=6.544cm]{text02-img/text02-img015.png}

\end{center}

\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

\textstyleqwerty{\textbf{　ドロップパズルゲームの画面}}


\bigskip


\bigskip


\bigskip


\bigskip

ドロップパズルゲームを改造して、自分だけのゲームに変えてみます。

スクリプトは、簡単に修正できることを学びました。実は、ゲームの中の絵も自由に修正することができます。


\bigskip


\bigskip

{\bfseries
2-15 GIMPを使ってみよう}


\bigskip

皆さんのRaspberry
Piは、パソコンやスマホと同じように自由にプログラムを入れたり、作ったりすることができます。

好きなプログラムを入れて便利にすることができるのは、コンピューターの特徴の一つです。

ここでは、Raspberry
Piで絵を描くことのできるプログラムを使ってみます。

Raspberry Piメニューからグラフィックス→「GNU Image
Manipulation
Program」をクリックすることでツールを起動させることができます。


\bigskip



\begin{center}
  % Unhandled or unsupported graphics:
\includegraphics[width=10.583cm,height=7.938cm]{text02-img/text02-img037.png}

\end{center}

\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

\textstyleqwerty{\textbf{Gimpを起動したところ}}


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

{\bfseries
2-16
ドロップパズルの中身を変えてみよう}


\bigskip

Gimpを使って、ドロップパズルのゲームで使われた絵を改造してみましょう。

Gimpは、絵のデータを読み込んで、自分で好きに変更することができます。

変更した絵は、ふたたび保存することができます。

Gimpのファイル→「開く」メニューから、「ome/02フォルダ」にある「koma.png」を読み込んで下絵とします。


\bigskip



\begin{center}
  % Unhandled or unsupported graphics:
\includegraphics[width=10.403cm,height=7.811cm]{text02-img/text02-img038.png}

\end{center}

\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

{\bfseries
koma.pngを修正している画面}


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

\textstyleqwerty{このキャラクターを別な絵に書き換えればゲームの絵も変わります。}

\begin{center}
  % Unhandled or unsupported graphics:
\includegraphics[width=4.075cm,height=10.16cm]{text02-img/text02-img039.png}

\end{center}
パレットで色を選んで、鉛筆のツールで絵を書いていきます。

元の絵があった部分を書き換えて他の絵柄にしてみましょう。


\bigskip

画像が小さい場合は、画像の下にある「100\%」の右側にあるボタンを押して、「400\%」「800\%」などを選ぶと拡大されます。

絵を修正する時には、ツールアイコンの中から「ブラシ」を選択して、サイズを4〜6くらいの数字に変えてから絵の上で、マウスボタンを押しながら動かして色を置きます。


\bigskip

色を変更する場合は、ツールパレットの描画色をクリックして、「描画色の変更」ダイアログを出してから好きな色を選びます。


\bigskip



\begin{center}
  % Unhandled or unsupported graphics:
\includegraphics[width=10.993cm,height=6.588cm]{text02-img/text02-img040.png}

\end{center}

\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

元の絵を書き換えたら、ファイル→「koma.pngに上書きエクスポート」を選んで保存します。

作業が終わったら、最後にファイル→「終了」を選んでGimpアプリケーションを閉じるのを忘れないでください。(koma.pngを保存してあるので、現在のドキュメントを保存する必要はありません)


\bigskip

変更した画像でゲームを動かしてみましょう。

HSPスクリプトエディタを起動して、「drop.hsp」を読み込みます。

\ [F5]キーを押して実行して変わっていれば成功です。


\bigskip

本当にスクリプトからゲームが作られているのか確かめてみましょう。

たとえば、ドロップパズルゲームのスクリプトには、「name=”ドロップパズル”」と書かれている部分があります。


\bigskip



\begin{center}
  % Unhandled or unsupported graphics:
\includegraphics[width=9.049cm,height=6.346cm]{text02-img/text02-img014.png}

\end{center}

\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

\textstyleqwerty{\textbf{ドロップパズルのスクリプト}}


\bigskip


\bigskip


\bigskip


\bigskip

\textstyleqwerty{これを、「name=”}ドロドロパズル\textstyleqwerty{”」など他の文字に変えてみてください。}

[F5]キーで実行して、どこが変わっているか確認してみましょう。


\bigskip

106行目にある「k=rnd(5)」という部分を探してみましょう。

この「5」を「3」などもっと少ない数に変えてみるとどうなるか確認してみましょう。


\bigskip

   % Unhandled or unsupported graphics:
\includegraphics[width=12.753cm,height=7.064cm]{text02-img/text02-img041.png}
 


\bigskip

変更したスクリプトは、ファイル→「上書き保存」によりdrop.hspに保存することができます。

別な名前で保存したい時には、ファイル→「名前を付けて保存…」で新しいファイルとして保存することができます。

これから先、さらに色々な部分を変えてみながら、プログラムの動きについて覚えていきましょう。


\bigskip

これで、あなたが改造したオリジナルのパズルゲームになりました。

\clearpage{\bfseries
2-17 例題に挑戦しよう}


\bigskip

ここまで終わってしまった人は、以下の例題にも挑戦してみよう。


\bigskip

・シューティングゲーム(shoot)の絵を改造する

・シューティングゲーム(shoot)のスクリプトを改造する

・タイトルを変えてみよう

・敵や味方の強さを変えてみよう

・ゲーム全体の速さを変えてみよう


\bigskip

例題の考え方がわからない時は、近くのTAか先生に聞いてください。

わからない所は、そのままにせず、必ず答えを見つけてから先に進みましょう。


\bigskip

\clearpage
\textstyleqwerty{\textbf{例題10　シューティングゲームの絵を改造する}}


\bigskip

{\bfseries
考え方}


\bigskip

シューティングゲーム(shoot.hsp)の絵を改造して自分だけの絵にしてみましょう。

シューティングゲームの絵は、「ome/02/chr.png」というファイルに保存されています。

改造ができたらTAや周りの友達にも見せてあげましょう。


\bigskip


\bigskip

{\bfseries
例題10 答え}


\bigskip

教科書でドロップパズルの絵を修正したのと同じように、Gimpを使ってシューティングゲームの絵を修正します。


\bigskip

Raspberry Piメニューからグラフィックス→「GNU Image
Manipulation
Program」をクリックすることでツールを起動させることができます。

次に、ファイル→「開く」から「chr.png」を開いて、ゲームのキャラクターを改造してみましょう。


\bigskip



\begin{center}
  % Unhandled or unsupported graphics:
\includegraphics[width=8.625cm,height=6.459cm]{text02-img/text02-img042.png}

\end{center}

\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

{\bfseries
chr.pngを読み込んだ画面}


\bigskip


\bigskip

左にあるのが自機、その右にあるのがレーザー、その右は敵の弾です。

作業が終わったら、ファイル→「chr.pngに上書きエクスポート」を選んで保存します。


\bigskip

時間のある人は、他の絵の書き換えにも挑戦してみましょう。

背景は「bg.png」、キャラクターは「chr.png」、タイトルは「title.png」です。

もとの絵は、chrorg.pngという名前でも保存されています。

もし、chr.bmpの内容を元に戻したい時には、chrorg.pngのファイルをコピーしてファイル名をchr.pngにコピーすれば元に戻せます。


\bigskip

Gimpを使い終わったら、最後にファイル→「終了」を選んでGimpアプリケーションを閉じてください。


\bigskip

\clearpage
\textstyleqwerty{\textbf{例題11　シューティングゲームの内容を改造する}}


\bigskip

{\bfseries
考え方}


\bigskip

シューティングゲーム(shoot.hsp)のスクリプトを改造してゲームの内容を変えてみましょう。

シューティングゲームのスクリプトは、「ome/02/shoot.png」というファイルに保存されています。


\bigskip

まず、HSPスクリプトエディタを起動して、ファイル→「開く」メニューから「shoot.hsp」を読み込んでください。



\begin{center}
  % Unhandled or unsupported graphics:
\includegraphics[width=6.853cm,height=5.135cm]{text02-img/text02-img043.png}

\end{center}

\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

\textstyleqwerty{\textbf{shoot.hspを読み込んだところ}}


\bigskip


\bigskip


\bigskip


\bigskip

でたらめに書き直してもエラーが出るだけです。

タイトルに表示されている文字、色、場所はパラメーターを変えられます。

命令にあたる部分は変えないようにしましょう。


\bigskip

・プレイヤーのミサイル連射を増やしてみる


\bigskip

\ \ (「lmax=4」が連射の数です)

\ \ 敵の数を変えてみる

\ \ (「einter=18」が出てくる確率「emax=16」が最大の数です)

\ \ 敵の弾数を変えてみる

\ \ \ \ (「msrint=2」の2を大きくすると増えます「amax=16」は最大の数です)

\ \ ゲームの速度を変えてみる

\ \ (「await
18」という部分の18を少ない数にしてみましょう)


\bigskip


\bigskip

{\bfseries
例題11 答え}


\bigskip

\textstyleqwerty{ゲームを改造することで、難しくなったり、簡単になったりします。}

改造ができたらTAや周りの友達にも見せてあげましょう。


\bigskip

プログラムをあまり改造しすぎると、動かなくなったり、パソコンの動きが遅くなってしまうことがあります。その時は、先生に聞くか、「ome/02/org」フォルダ内の元のファイル(shoot.hsp)をもう一度コピーして使ってみてください。


\bigskip


\bigskip


\bigskip

{\bfseries
2-18 休憩}


\bigskip

\begin{flushleft}
\tablefirsthead{}
\tablehead{}
\tabletail{}
\tablelasttail{}
\begin{supertabular}{|m{10.542cm}|}
\hline
・自由時間です

・次の時間が始まる前に教室の席に戻るようにしましょう

・質問や疑問などがあれば先生のところまで聞きに行きましょう\\\hline
\end{supertabular}
\end{flushleft}
\textstyleqwerty{\textbf{2-19 プログラムの流れを操ろう}}


\bigskip

スクリプトに旗を立てる方法を覚えましょう。旗というのは屋上についてヒラヒラしたり山の頂上に立ってるものです。スクリプトの旗は目印になる場所を意味します。自分で好きな名前をつけてスクリプトの中に目印として旗を立てておくことができます。

ファイル→「開く」メニューから「hata.hsp」を読み込みましょう。


\bigskip

*hata

\ \ redraw 0

\ \ pos 0,0

\ \ mes {\textquotedbl}えっさ{\textquotedbl}

\ \ redraw 1

\ \ wait 50

\ \ redraw 0

\ \ pos 0,0

\ \ mes {\textquotedbl}　　　ほいさ{\textquotedbl}

\ \ redraw 1

\ \ wait 50

\ \ goto *hata


\bigskip

[F5]キーを押して実行すると、「えっさ」と「ほいさ」の文字が交互に表示されます。

スクリプトの行数は少ないのに、何度も繰り返して実行されているのはなぜでしょう。

これが、旗の機能を使った例です。

旗のことをHSPではラベルと呼んでいます。


\bigskip

\ \ (HSPのルール)


\bigskip

\ \ 旗は「*」の後に旗の名前を自由に決めて書くことができる

\ \ (ただし命令と同じ名前は使えません)

\ \ goto命令は指定したラベル(旗)に飛ぶための命令

\ \ gotoの後にスペースに続けて飛び先のラベル(旗)を指定します

\ \ goto命令が実行された後は飛び先のラベル(旗)から実行が続けられます


\bigskip

つまり、1行目からスクリプトが実行されていますが、「goto
*hata」まで来ると、また「*hata」の行まで戻ってしまいます。こうして、このスクリプトは、「*hata」の行から「goto
*hata」までを永遠に繰り返します。

このように繰り返しにより、大量の作業をこなしてしまうのがプログラムの凄いところです。


\bigskip

\ \ (HSPのルール)


\bigskip

\ \ 「redraw 0」から「redraw
1」は画面を更新するための命令

\ \ 画面を描き始める前に「redraw
0」を書いておく

画面を描き終わったら「redraw
1」を書いておく


\bigskip

自分なりに、mesのメッセージや、wait命令の待ち時間を変更して、どのような結果になるか試してみましょう。


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

{\bfseries
2-20 変数と計算}


\bigskip

プログラミングを覚える上で、とても重要な変数というものについて覚えていきましょう。

変数はどんなコンピューター言語でも使われている大切な機能です。

どんなものなのか、まずスクリプトを見てみましょう。

ファイル→「開く」メニューから「keisan.hsp」を読み込みましょう。


\bigskip

\ \ \ \ x=100

\ \ \ \ pos 20,120

\ \ \ \ color 0,0,255

\ \ \ \ mes {\textquotedbl}こたえは{\textquotedbl}+x


\bigskip

実行すると、画面の中央上に「こたえは100」が表示されましたね。

mes命令の”こたえは”の後ろに「+x」が付けられています。ここに出て来る「x」が「変数」です。


\bigskip



\begin{center}
  % Unhandled or unsupported graphics:
\includegraphics[width=7.382cm,height=5.831cm]{text02-img/text02-img044.png}

\end{center}

\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

\textstyleqwerty{\textbf{　keisan.hspの実行画面}}


\bigskip


\bigskip


\bigskip

変数はよく、「いれもの」にたとえられます。数値を記憶しておく、「いれもの」です。

「いれもの」には名前をつけることができます。たとえば「x」という名前の「いれもの」に数値を入れておくには、「x=100」のように書きます。


\bigskip



\begin{center}
  % Unhandled or unsupported graphics:
\includegraphics[width=10.478cm,height=5.106cm]{text02-img/text02-img045.png}

\end{center}

\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

このスクリプトではxという名前をつけてあります。これを変数xと呼びます。(名前は1文字でなく長い名前でもかまいません。日本語でもいいです。でも打ち込みやすいので１文字でもよく使われます)

名前は命令と同じものは使えないので注意しましょう。


\bigskip

「x=100」でxという名前の変数に100という数値が入ります。これを「代入」と呼んでいます。変数に数値を入れておくと命令で指定するパラメーターとして指定することができるようになります。

つまり「pos 100,120」を、「pos
x,120」と書くこともできるのです。


\bigskip


\bigskip


\bigskip


\bigskip

\ \ (HSPのルール)


\bigskip

\ \ 「変数の名前=数値」で変数に値を入れることができる(代入)

\ \ 変数に数値を入れておくとパラメーターとして使える

\ \ mes命令の中で「+変数」を書くことで変数の中身を表示できる


\bigskip

変数に値を代入しておくことで同じ数値を指定する部分をまとめて変更したり、命令と別な場所で指定をすることができるようになります。


\bigskip

ほかにも、数値を書く部分に記号を入れて計算をすることができます。

計算は電卓などで使われている四則演算が基本になります。


\bigskip



\begin{center}
  % Unhandled or unsupported graphics:
\includegraphics[width=11.695cm,height=5.741cm]{text02-img/text02-img046.png}

\end{center}

\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

\ \ (HSPのルール)


\bigskip

\ \ 数式とは、数値と変数、またはそれらを計算式でつなげて書くこと

\ \ 「+」は足し算、「-」は引き算
、「*」は掛け算(×)、「/」は割り算(÷) 


\bigskip

数式とはつまり、数値を指定する場所に1+1と書いたら2を書いたのと同じことになる、ということです。(コンピューターですから計算は大の得意です)

つまり、「x=100+20」は「x=120」と同じことになるのです。

変数と計算で何ができるのか、まだよくわからない人も多いと思いますが、あわてずにゆっくり覚えるようにしましょう。


\bigskip


\bigskip

{\bfseries
2-21 乱数を使ってみよう}


\bigskip

変数を使った例をもう1つ紹介します。ファイル→「開く」メニューから「stars.hsp」を読み込みましょう。100個の「☆」をmes命令で画面に表示しています。

ここでは、「☆」を表示する位置をバラバラにするために乱数を使用しています。

乱数は、ゲームなどでよく使われている要素の1つで、コンピューターが選んだバラバラな数字を作るものです。

バラバラな数字は、決められた数字の範囲で作ることができ、何が出るかは誰にも予想ができません。


\bigskip



\begin{center}
  % Unhandled or unsupported graphics:
\includegraphics[width=7.99cm,height=6.297cm]{text02-img/text02-img047.png}

\end{center}

\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

\textstyleqwerty{\textbf{　stars.hspの実行画面}}


\bigskip


\bigskip


\bigskip


\bigskip

スクリプトを見てみましょう。


\bigskip

\ \ \ \ repeat 100

\ \ \ \ x=rnd(640)

\ \ \ \ y=rnd(480)

\ \ \ \ pos x,y

\ \ \ \ mes {\textquotedbl}☆{\textquotedbl}

\ \ \ \ loop


\bigskip

変数xと変数yは、pos命令で「☆」を表示する位置を記憶するものとして使われています。

「x=rnd(640)」は、0〜639(640通り)までのバラバラな数字を変数xに代入します。このような書き方を「関数」と呼んでいます。



\begin{center}
  % Unhandled or unsupported graphics:
\includegraphics[width=11.906cm,height=5.662cm]{text02-img/text02-img048.png}

\end{center}

\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

\ \ (HSPのルール)


\bigskip

\ \ 「変数=rnd(乱数の最大値)」でバラバラな数字を得ることができる

\ \ 関数は、「変数=関数(パラメーター)」という書き方で使うことができる


\bigskip

「y=rnd(480)」も同様に0〜479までの数字を代入します。画面のサイズが、横640、縦480ですから、画面上のでたらめな位置をpos命令で指定することができます。

repeat命令で100個の「☆」を描いていますが、この数字を変えたり(あまり大きな数字にすると遅くなるので注意してください)、乱数の範囲を変えてみながら、どのように画面が変化するか確認してみましょう。

余裕のある人は、でたらめな色で「☆」をたくさん表示する方法を考えてみてください。


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

{\bfseries
2-22 条件判断とは}


\bigskip

変数と数字を使って計算ができることはわかりました。さらにもう1つ、重要な要素として「条件判断」を覚えることができれば、プログラミングの大きな関門を１つ越えることになります。

それほど、「条件判断」はプログラミングの大きな要素であり、「条件判断」なしでは大きなプログラムを作ることはできません。



\begin{center}
  % Unhandled or unsupported graphics:
\includegraphics[width=12.33cm,height=6.939cm]{text02-img/text02-img049.png}

\end{center}

\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

\ \ (HSPのルール)


\bigskip

\ \ if命令により条件を判断することができる

\ \ ifの後にスペースに続けて条件式を指定します

\ \ その後で「:」に続けて条件が正しい時に実行される命令を書きます


\bigskip

\ \ (条件式はいくつか書き方があります)


\bigskip

\ \ \ \ 条件式 \ \ \ \ \ \ \ \ \ 意味

\ \ \ \ {}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-

\ \ \ \ 変数名 =
数値\ \ 変数の内容と数値が同じである

\ \ \ \ 変数名 !
数値\ \ 変数の内容と数値が同じではない

\ \ \ \ 変数名 {\textless}
数値\ \ 変数の内容より数値の方が数が大きい

\ \ \ \ 変数名 {\textgreater}
数値\ \ 変数の内容より数値の方が数が小さい



\bigskip

たとえば、


\bigskip

\ \ if a=0 : mes “0です”


\bigskip

という行は、変数aの内容が0だった時に「0です」というメッセージを出すという意味になります。

条件判断と変数を使うことで、とても複雑な動作を作ることができます。

最初は、想像がつきにくいかもしれませんが、スクリプトがどのように動いて判断されるのかを、頭の中でゆっくり考えてみてください。

スクリプトの書き方は、もちろんここで説明したことがすべてではありません。しかし、ここに書かれている基本を押さえておけば、誰でもある程度のソフトまでは作ることができるはずです。そして、さらにステップアップをしたい人は、HSPのスクリプトのすべてが書かれている、マニュアルや、本を読んでみてください。決してあせらないで、自分にできる範囲でスクリプトを組んでいきましょう。

これまで説明してきたことの多く、変数やラベルといったものは、
他のプログラミング言語、とりわけBASICと呼ばれているものに近いです。HSPで初めてプログラム
について知ったという人が、他の言語を覚える時が来ても、HSPで知ったことが役に立つに違いありません。

{\bfseries
2-23 例題に挑戦しよう}


\bigskip

ここまで終わってしまった人は、以下の例題にも挑戦してみよう。


\bigskip

・動きのある画面を作ってみる

・条件判断を自分で使ってみよう

・繰り返しの方法を知ろう

・ポーカーゲームで遊んでみよう

・スイッチを使ったゲームで遊んでみよう


\bigskip

例題の考え方がわからない時は、近くのTAか先生に聞いてください。

わからない所は、そのままにせず、必ず答えを見つけてから先に進みましょう。


\bigskip


\bigskip

\textstyleqwerty{\textbf{例題12　動きのある画面を作ってみる}}



\bigskip

{\bfseries
考え方}


\bigskip

変数とpos命令、mes命令などを組み合わせることで、動きのある画面を作ることができます。

ファイル→「開く」メニューから「move.hsp」を読み込んで実行してみましょう。

文字が左からゆっくりと右に移動していきます

変数と計算がどんな役割をしているか考えながら見てください。

仕組みがわかったら、次の問題にも挑戦してみましょう。


\bigskip



\begin{center}
  % Unhandled or unsupported graphics:
\includegraphics[width=8.373cm,height=6.932cm]{text02-img/text02-img050.png}

\end{center}

\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

{\bfseries
move.hspスクリプトの内容}


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

\ \ ・文字が動くスピードを変えるにはどうすればいいですか?

\ \ ・右から左に動かすにはどうすればいいですか?


\bigskip


\bigskip

{\bfseries
例題12 答え}


\bigskip

pos命令のパラメーターに変数が使われています。

つまり、文字を表示する位置を変数で変えられるようにしてあるのです。

変数に代入されている値を増やしたり、減らしたりする計算を覚えておきましょう。


\bigskip

\ \ x = x + 1


\bigskip

という計算は、変数xに記憶されている数字に1を足します。


\bigskip



\begin{center}
  % Unhandled or unsupported graphics:
\includegraphics[width=10.689cm,height=5.265cm]{text02-img/text02-img051.png}

\end{center}

\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

これを繰り返すことにより、変数に記憶されている数字で指定された位置を少しずつ変えているのです。

「x=x+1」の「1」を大きな数にすることで、動くスピードを速くすることができます。

文字を右から左に動かすには、変数xの数字を大きい値から、小さい値に減らします。


\bigskip

\ \ x = x - 1


\bigskip

という計算は、変数xに記憶されている数字から1を引きます。

最初に「x=640」として大きな値にしておいて、1ずつ引いていけば右から左に移動するようになるはずです。

実際に試してみて、文字の表示位置が変わったらTAや周りの友達にも見せてあげましょう。


\bigskip


\bigskip


\bigskip

\textstyleqwerty{\textbf{例題13　条件判断を自分で使ってみよう}}


\bigskip

{\bfseries
考え方}


\bigskip

条件判断を実際に使ってみましょう。

ファイル→「開く」メニューから「move.hsp」を読み込んでください。

文字が左から右に移動しますが、右まで行ったら、また左に戻るように改造してみましょう。

変数xの値が640を越えたら、0に戻す必要があります。

どのように条件判断を書けばいいか考えてみましょう。


\bigskip

条件判断は、if命令を使います。if命令の使い方を思い出してみてください。


\bigskip

\ \ (HSPのルール)


\bigskip

\ \ if命令により条件を判断することができる

\ \ ifの後にスペースに続けて条件式を指定します

\ \ その後で「:」に続けて条件が正しい時に実行される命令を書きます


\bigskip

\ \ (条件式はいくつか書き方があります)


\bigskip

\ \ \ \ 条件式 \ \ \ \ \ \ \ \ \ 意味

\ \ \ \ {}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-{}-

\ \ \ \ 変数名 =
数値\ \ 変数の内容と数値が同じである

\ \ \ \ 変数名 !
数値\ \ 変数の内容と数値が同じではない

\ \ \ \ 変数名 {\textless}
数値\ \ 変数の内容より数値の方が数が大きい

\ \ \ \ 変数名 {\textgreater}
数値\ \ 変数の内容より数値の方が数が小さい



\bigskip


\bigskip

{\bfseries
例題13 答え}


\bigskip

「もし変数xが640を越えたら、変数xに0を代入する」という命令を書きます。


\bigskip

\ \ if x{\textgreater}640 : x=0


\bigskip

これで、xが1ずつ増えていって、640を越えた時に0に戻す条件判断をしたことになります。


\bigskip



\begin{center}
  % Unhandled or unsupported graphics:
\includegraphics[width=11.033cm,height=6.209cm]{text02-img/text02-img052.png}

\end{center}

\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

ファイル→「開く」メニューから「handan.hsp」を読み込んでみてください。

実際に試してみて、文字の表示位置が変わったらTAや周りの友達にも見せてあげましょう。


\bigskip


\bigskip


\bigskip

\textstyleqwerty{\textbf{例題14　繰り返しの方法を知ろう}}



\bigskip

{\bfseries
考え方}


\bigskip

スクリプトは、何度も繰り返しができることを習いました。

しかし、時には一定回数だけ繰り返したいことがあります。そんな時に、すべてまとめて便利に書けるようにしたものがrepeat命令です。

repeat命令の後には、loop命令を必ず書く必要があります。それにより、repeat命令から、loop命令までをすきな回数だけ繰り返すようになります。

ファイル→「開く」メニューから「repeat.hsp」を読み込んでみましょう。


\bigskip

\ \ repeat 5

\ \ gpio 17,1

\ \ wait 50

\ \ gpio 17,0

\ \ wait 50

\ \ loop


\bigskip

[F5]キーを押して実行すると、5回だけLEDが点滅するのがわかります。

「repeat
5」から「loop」までの間を5回繰り返したのです。試しに、repeat命令のパラメーターを変更して、5以外の回数になるかどうか試してみましょう。

repeat命令とloop命令の関係について、実際に試しながら学習してみましょう。


\bigskip


\bigskip

{\bfseries
例題14 答え}


\bigskip

繰り返しの回数を変えて色々なパターンを試してみましょう。


\bigskip

\ \ (HSPのルール)


\bigskip

\ \ repeat命令とloop命令は、指定した回数だけ繰り返しを行う便利な命令

\ \ repeatの後にスペースに続けて繰り返し回数を書く

\ \ loop命令が書かれた場所までを指定した回数繰り返す

\ \ 回数が0の場合は何も実行しない

\ \ 回数を省略した場合は無限に繰り返される


\bigskip

実際に試してみて、結果が変わったらTAや周りの友達にも見せてあげましょう。


\bigskip


\bigskip


\bigskip

\textstyleqwerty{\textbf{例題15　ポーカーゲームで遊んでみよう}}


\bigskip

{\bfseries
考え方}


\bigskip

実際に変数や乱数が使われているゲームを見てみましょう。トランプを使ったかんたんなゲーム「ポーカーゲーム」を実行します。

ファイル→「開く」メニューから「poker.hsp」を読み込んでください。これはポーカーというトランプのゲームを再現したものです。

最初に配られた５枚のカードから、残しておきたものだけにチェックを付けて、カードを交換します。

できあがった５枚のカードが、きれいな手になっているとコインが増えます。(遊び方がわからない人は、友達や両親、近くの先生に聞いてみましょう)


\bigskip

{\bfseries
例題15 答え}


\bigskip

変数と計算、条件判断を組み合わせると、このようなゲームが作れます。

まだ難しくで意味がわからないと思いますが、それで問題ありません。

スクリプトを見て、改造できそうな所がないか探してみましょう。

たとえば、コインの枚数はcreditという変数が記憶しています。


\bigskip



\begin{center}
  % Unhandled or unsupported graphics:
\includegraphics[width=10.478cm,height=7.844cm]{text02-img/text02-img053.png}

\end{center}

\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

\textstyleqwerty{\textbf{poker.hspの実行画面}}


\bigskip


\bigskip


\bigskip


\bigskip

\clearpage
\textstyleqwerty{\textbf{例題16　スイッチを使ったゲームで遊んでみよう}}


\bigskip

{\bfseries
考え方}


\bigskip

センサーボードのスイッチを使ったゲームに挑戦してみましょう。

ファイル→「開く」メニューから「swjump.hsp」を読み込んでみてください。

スイッチを押してうまくジャンプをして、やってくる柱を避けるゲームです。

いままではキーボードやマウスを使ってゲームをしていましたが、これはセンサーボードのスイッチだけしか使いません。


\bigskip



\begin{center}
  % Unhandled or unsupported graphics:
\includegraphics[width=8.881cm,height=7.011cm]{text02-img/text02-img054.png}

\end{center}

\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

\textstyleqwerty{\textbf{swjump.hspの実行画面}}


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

ゲームに慣れてきたら、どこか改造できる所はないか探してみましょう。

センサーボードには、スイッチ以外にも様々なセンサーが内蔵されています。

アイデア次第で色々な応用ができるはずです。

どんなことができるか、あれこれ想像してみてください。自分が作りたいものに向けて、何を覚えればいいのか、何が足りないか考えることもプログラミングでは大切です。


\bigskip


\bigskip

{\bfseries
例題16 答え}


\bigskip

「swjump.hsp」では色々な変数が使われています。


\bigskip

\ \ score \ 得点を記憶する変数

\ \ fps \ \ \ ゲーム全体の速度

\ \ barint \ \ ハードルの間隔

\ \ levup \ \ \ レベルアップするスコア


\bigskip

これらの値を変えてみると、ゲームの難しさも変わってきます。

色々と変えてみながら、ちょうどいい難しさに改造してみましょう。


\bigskip


\bigskip


\bigskip

{\bfseries
2-24 休憩・退出}


\bigskip

\begin{flushleft}
\tablefirsthead{}
\tablehead{}
\tabletail{}
\tablelasttail{}
\begin{supertabular}{|m{10.542cm}|}
\hline
・今日の教室は終わりです

・質問や疑問などがあれば先生のところまで聞きに行きましょう

・時間までに家に帰るようにしましょう\\\hline
\end{supertabular}
\end{flushleft}

\bigskip

{\bfseries
\ [ネットでHSPの情報を調べてみよう]}


\bigskip

家に帰ってから、インターネットでHSPに関する情報や資料を探すことができます。

次のようなページから調べ始めるといいでしょう。

HSPは、Raspberry Piだけでなく、Windows
PCでも同様に扱うことができます。

家にWindowsパソコンがある人は、そちらでも活用してみてください。


\bigskip

HSPの情報があるページ

https://hsp.tv/


\bigskip

HSP講座のあるページ一覧

https://hsp.tv/play/link.html


\bigskip

HSPプログラムコンテストも開かれています

\url{https://hsp.tv/play/contest.html}


\bigskip


\bigskip



\begin{center}
  % Unhandled or unsupported graphics:
\includegraphics[width=9.202cm,height=10.717cm]{text02-img/text02-img055.png}

\end{center}

\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

{\bfseries
HSPのホームページ}


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

\begin{flushleft}
\tablefirsthead{}
\tablehead{}
\tabletail{}
\tablelasttail{}
\begin{supertabular}{m{0.537cm}m{11.7560005cm}}
\multicolumn{2}{m{12.493001cm}}{{\ttfamily\bfseries
パソコン実習の「き　ま　り」}}\\
~
 &
~
\\
\centering{\ttfamily ◎} &
{\ttfamily\bfseries
教室内で食事はしない。(水分補給は忘れずに)}\\
~
 &
~
\\
\centering{\ttfamily ◎} &
{\ttfamily\bfseries
授業の内容に関係ないゲームで遊ばない。}\\
~
 &
~
\\
\centering{\ttfamily ◎} &
{\ttfamily\bfseries
先生の話がある時はキーボードやマウスから手をはなしよく聞くこと。}\\
~
 &
~
\\
\centering{\ttfamily ◎} &
{\ttfamily\bfseries
わからないことがあった時は先生や、まわりのTAに質問する}\\
~
 &
~
\\
\centering{\ttfamily ◎} &
{\ttfamily\bfseries
パソコンのスピーカーのボリュームは、周りの人に迷惑にならない音量にする。}\\
~
 &
~
\\
\centering{\ttfamily ◎} &
{\ttfamily\bfseries
体調や気分が悪くなった時は先生や、まわりのヘルパーに知らせて休憩すること。}\\
~
 &
~
\\
~
 &
~
\\
\end{supertabular}
\end{flushleft}

\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip


\bigskip

{\raggedleft\bfseries
教科書作成 : 2021/08/07 (おにたま)
\par}


\bigskip
\end{document}

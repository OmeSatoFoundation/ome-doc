% style file for ltjsbook
% by Hogenimushi

% 傍注スペースを削る
\addtolength{\fullwidth}{-26truemm} %全体の幅(ヘッダ部の幅)を既定値から26mm小さくする
\setlength{\textwidth}{\fullwidth}  %本文の幅(textwidth)を全体の幅(=ヘッダ部の幅)にそろえる
\setlength{\evensidemargin}{1truemm}    %偶数ページの左余白を1mm(+1インチ)にする
\setlength{\oddsidemargin}{19truemm}    %奇数ページの左余白を19mm(+1インチ)にする

% フォントは最終段階で決定する
%\usepackage[ipaex]{luatexja-preset}
\usepackage[haranoaji,deluxe]{luatexja-preset}
\usepackage{luatexja-otf}

\usepackage{graphicx}
\usepackage{color}
\usepackage{here}
\usepackage{framed}
\usepackage{tcolorbox}
\usepackage{pdfpages}
\usepackage[hidelinks]{hyperref}
%\usepackage{pxjahyper}
\usepackage{titlesec}
\usepackage{picture}
\usepackage{tikz}
\usepackage{quotchap}
\usepackage{pxrubrica}
\usepackage{booktabs}
\usepackage{listings,jvlisting}
\usepackage{float}
\usepackage{multirow}
\usepackage{enumerate}
\usepackage{url}
%プログラム挿入の設定

%\lstset{
%	%プログラム言語(複数の言語に対応，C,C++も可)
% 	language = Python,
% 	%背景色と透過度
% 	backgroundcolor={\color[gray]{.92}},
 %	%枠外に行った時の自動改行
 %	breaklines = true,
 %	%自動開業後のインデント量(デフォルトでは20[pt])	
 %	breakindent = 10pt,
 %	%標準の書体
 %	basicstyle = \ttfamily\scriptsize,
 %	%basicstyle = {\small}
% 	%コメントの書体
% 	commentstyle = {\itshape \color[cmyk]{1,0.4,1,0}},
% 	%関数名等の色の設定
% 	classoffset = 0,
% 	%キーワード(int, ifなど)の書体
% 	keywordstyle = {\bfseries \color[cmyk]{0,1,0,0}},
% 	%""で囲まれたなどの"文字"の書体
% 	stringstyle = {\ttfamily \color[rgb]{0,0,1}},
% 	%枠 "t"は上に線を記載, "T"は上に二重線を記載
%	%他オプション：leftline，topline，bottomline，lines，single，shadowbox
% 	frame = tbrl,
% 	%frameまでの間隔(行番号とプログラムの間)
% 	framesep = 5pt,
% 	%行番号の位置
% 	numbers = left,
%	%行番号の間隔
% 	stepnumber = 1,
%	%右マージン
% 	%xrightmargin=0zw,
%	%左マージン
%	%xleftmargin=3zw,
%	%行番号の書体
% 	numberstyle = \tiny,
%	%タブの大きさ
% 	tabsize = 4,
% 	%キャプションの場所("tb"ならば上下両方に記載)
% 	captionpos = b
%}
\lstset{
  language=C++,
  basicstyle=\ttfamily\small,
  % keywordstyle=\bfseries\color{green},
  showstringspaces=false,
  frame={tb},
  numbers=left,
  xrightmargin=0\zw,
  xleftmargin=2\zw,
  % columns=[l]{fullflexible},
  columns=fixed,
  basewidth=0.5em,
  numberstyle = \footnotesize,
  frame = tbrl,
  captionpos = b,
  moredelim=[is][\color{green}\bfseries]{<\#green\#}{\#>},
  moredelim=[is][\color{blue}\bfseries]{<\#blue\#}{\#>},
  moredelim=[is][\color{red}\bfseries]{<\#red\#}{\#>},
  moredelim=[is][\color{yellow}\bfseries]{<\#yellow\#}{\#>},
  moredelim=[is][\color{magenta}\bfseries]{<\#magenta\#}{\#>},
}

\tcbuselibrary{breakable}
\definecolor{shadecolor}{gray}{0.80}

% section
\titleformat{\section}[block]{}{}{0pt}
{
  \definecolor{teal}{gray}{0.30}
  \begin{picture}(0,0)
    \put(-10,-5){
      \begin{tikzpicture}
        \fill[teal] (0pt,0pt) rectangle (5pt,19pt);
      \end{tikzpicture}
    }
    \put(-10,-5){
      \color{teal}
      \line(1,0){\hsize}
    }
  \end{picture}
  \hspace{0pt}
  \sf \Large \thesection
  \hspace{0pt}
}

% 図表見出し
\renewcommand{\tablename}{\textcolor{gray}{▼} 表}
\renewcommand{\figurename}{\textcolor{gray}{▲} 図}
\renewcommand{\lstlistingname}{\textcolor{gray}{▲}リスト}

% 問題用カウンタ
\newcounter{ometoi} % カウンタの宣言
\setcounter{ometoi}{0} % カウンタの初期化
% ↓\refstepcounterの利用
\newcommand{\useOmetoi}[1][]{\refstepcounter{ometoi}{#1}問題 {\thechapter}-{\theometoi}}

% 問題用カウンタ 2
\newcounter{ometoiAlpha} % カウンタの宣言
\setcounter{ometoiAlpha}{0} % カウンタの初期化
% ↓\refstepcounterの利用
\newcommand{\useOmetoiAlpha}[1][]{\refstepcounter{ometoiAlpha}{#1}チャレンジ問題 {\thechapter}-{\theometoiAlpha}}

\newcommand{\code}[1]{
{\bf\ttfamily\small#1}
}

% 問題マクロ
\newcommand{\addquiz}[1]{%
\parbox{\linewidth}{%
\item #1 \vspace{16mm} \\%
\underline{答え.\hspace{0.8\linewidth}}
}
}

% 演習マクロ
\newcommand{\addex}[1]{%
\item #1 \\%
\fbox{\phantom{白}} $\leftarrow$できたらチェックしましょう。%
}
